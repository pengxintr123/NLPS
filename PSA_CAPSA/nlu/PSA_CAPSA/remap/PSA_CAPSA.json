{
	"map_clientstate": {"*" : "auto_main"},

	"map_internal": ["${REFERENCE_AUTO_2015-07JULY_INTERNAL_SET_WITH_RADIOSTATION}","${PSA_INTERNAL_SET}"],
	"map_external": "${REFERENCE_AUTO_2015-07JULY_EXTERNAL_SET_FIRSTPART}${PSA_EXTERNAL_SET}${AS.DEFAULT_WEBSEARCH_2015-06JUNE}",
	
	"vars" : 
	{	
		"PSA_INTERNAL_SET":[
			{
				"condition" : {
					"ADK_VlingoAppSlots.parse_type": "radiostation:def"
				},
				"copyall":true,
				"modifyValue" : {
					"ADK_ZAppSlots.DOMAIN" : "internetRadio",
					"ADK_ZAppSlots.INTENTION" : "play"
				}
			},
			{
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": ["mediamusic"]
				},
				"copyall":true,
				"modifyValue" : {
					"ADK_ZAppSlots.DOMAIN" : "internetRadio"
				}
			},
			{
				"id" : "PSA.PSA_INTERNAL.MapSearch.Directions",
				"condition" : {
					"ADK_VlingoAppSlots.parse_type": "auto_only:ude:na"
				},
				"copyall":true,
				"modifyValue" : {
					"ADK_ZAppSlots.DOMAIN" : "mapSearch",
					"ADK_ZAppSlots.INTENTION" : "directions"
				}
			},
			{
				"id" : "PSA.PSA_INTERNAL.MapSearch.Upload",
				"condition" : {
					"ADK_VlingoAppSlots.parse_type": "poi:upload"
				},
				"copyall":true,
				"modifyValue" : {
					"ADK_ZAppSlots.DOMAIN" : "MAPSEARCH",
					"ADK_ZAppSlots.INTENTION" : "upload"
				}
			},		
			{
				"_comments" : { 
					"note" : "Preserving backward compatibility",
					"included_as_of" : "6.2.000"
				},
				"copyall" : true,
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": "appl",
					"ADK_ZAppSlots.INTENTION": "launch",
					"ADK_ZAppSlots.APPLICATION._CANON_NAME_CANON": true
				},
				"modifyValue" : {
					"ADK_ZAppSlots.APPLICATION._CANON_NAME" :
					{
						"email" : "inbox",
						"sms" : "inbox",
						"inbox" : "inbox",
						"calendar" : "inbox",
						"*" : "*"
					},
					"ADK_ZAppSlots.APPLICATION._CANON_NAME_CANON" : 
					{	
						"email" : "inbox",
						"sms" : "inbox",
						"inbox" : "inbox",
						"calendar" : "inbox",
						"*" : "*"
					},
					"ADK_ZAppSlots.APPLICATION.CANON_NAME" : 
					{	
						"email" : "inbox",
						"sms" : "inbox",
						"inbox" : "inbox",
						"calendar" : "inbox",
						"*" : "*"
					}
				}
			},
			{
				"condition" : {
					"_default" : true
				},
				"copyall" : true,
				"modifyValue" : {
					"ADK_ZAppSlots.GARRICKdebug": "yes",
				}
			}
		],

		"PSA_EXTERNAL_SET" : [
			{
				"_comments" : { 
					"parse_type" : "radiostation:def",
					"included_as_of" : "6.0.300"
				},
				"condition" : {
					"ADK_VlingoAppSlots.parse_type" : "radiostation:def"
				},
				"setFromNlu" : {
					"nlu_slot_details.Presenter.literal" : ["ADK_VlingoAppSlots.presenter:csf", "ADK_VlingoAppSlots.presenter:sf"],
					"nlu_slot_details.ProgramName.literal" : ["ADK_VlingoAppSlots.program:csf", "ADK_VlingoAppSlots.program:sf"],
					"nlu_slot_details.StationFormat.literal" : ["ADK_VlingoAppSlots.stationtype:csf", "ADK_VlingoAppSlots.stationtype:sf"]
					
				},
				"modifyValue" : {
					"nlu_classification.Domain" : "InternetRadio",
					"nlu_classification.Intention" : "Play"
				}
			},
			{
				"id" : "PSA.PSA_EXTERNAL.InternetRadio.Play",
				"_comments" : { 
					"note" : "InternetRadio for PSA",
					"included_as_of" : "6.0.300"
				},
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": "internetRadio"
				},
				"setFromNlu" : {
			                "nlu_slot_details.Artist.literal" : ["ADK_ZAppSlots.ARTIST._NAME_RAW", "ADK_ZAppSlots.MUSIC.ARTIST", "ADK_ZAppSlots.ARTIST.NAME"],
					"nlu_slot_details.Album.literal" : ["ADK_ZAppSlots.ALBUM_TITLE._NAME_RAW", "ADK_ZAppSlots.MUSIC.ALBUM", "ADK_ZAppSlots.ALBUM.NAME"],
					"nlu_slot_details.Title.literal" : ["ADK_ZAppSlots.SONG_TITLE._NAME_RAW", "ADK_ZAppSlots.MUSIC.SONG_TITLE", "ADK_ZAppSlots.SONG_TITLE.NAME"],
					"nlu_slot_details.Playlist.literal" : "ADK_ZAppSlots.MUSIC.PLAYLIST",
					"nlu_slot_details.Provider.literal" : "ADK_ZAppSlots._PROVIDER_RAW",
					"nlu_slot_details.Provider.canonical[0]" : "ADK_ZAppSlots.PROVIDER",
					"nlu_slot_details.Shuffle.literal" : "ADK_ZAppSlots.MUSIC._SHUFFLE_RAW",
					"nlu_slot_details.Shuffle.canonical[0]" : "ADK_ZAppSlots.MUSIC.SHUFFLE",
					"nlu_slot_details.Genre.literal" : ["ADK_ZAppSlots._GENRE_RAW"],
					"nlu_slot_details.Genre.canonical[0]" : ["ADK_ZAppSlots._GENRE_CANON"],
					"nlu_slot_details.Search-phrase.literal" : ["ADK_ZAppSlots.MEDIA_QUERY"]
				},
				"modifyValue" : {
					"nlu_classification.Domain" : "InternetRadio",
					"nlu_classification.Intention" : "Play",
					"nlu_slot_details.Provider.canonical[0]" : "${providerMapping}"
				}
			},
			{
				"id" : "PSA.PSA_EXTERNAL.UDE.Upload",
				"_comments" : { 
					"note" : "Support poi:upload",
					"included_as_of" : "6.0.300"
				},
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": "MAPSEARCH",
					"ADK_ZAppSlots.INTENTION": "upload"
				},
				"modifyValue" : {
					"nlu_classification.Domain" : "UDE",
					"nlu_classification.Intention" : "Upload"
				}
			},		
			{
				"_comments" : { 
					"parse_type" : "open:app",
					"included_as_of" : "6.0.200"
				},
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": "appl",
					"ADK_ZAppSlots.INTENTION": "launch"
				},
				"setFromNlu" : {
					"nlu_slot_details.App-name.literal" : ["ADK_ZAppSlots.APPLICATION.NAME"],
					"nlu_slot_details.App-name.canonical[0]" : ["ADK_ZAppSlots.APPLICATION._CANON_NAME"]
				},
				"modifyValue" : {
					"nlu_classification.Domain" : "Appl",
					"nlu_classification.Intention" : "Launch"
				}
			},
						
			{
				"_comments" : { 
					"parse_type" : "open:app with mode",
					"ADK_ZAppSlots.APPLICATION.NAME": true,
					"included_as_of" : "6.0.200"
				},
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": "appl",
					"ADK_ZAppSlots.INTENTION": "launch",
					"ADK_ZAppSlots.APPLICATION.NAME": true
				},
				"modifyValue" : {
					"nlu_classification.Mode" : "Name"
				}
			},
			{
				"_comments" : { 
					"parse_type" : "open:app",
					"included_as_of" : "6.0.200",
					"tag" : ["MISSING_DOMAIN_INTENTION"],
					"note" : "car:dial:contact - Missing DOMAIN and INTENTION. For example with field id dm_dial_contact, dm_dial_type",
					"instructions" : "When NLU returns DOMAIN/INTENTION, change condition to use previous_condition.",
					"previous_condition" : {
						"ADK_ZAppSlots.DOMAIN": "appl",
						"ADK_ZAppSlots.INTENTION": "launch"
					}
				},
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": false,
					"_domainenabled": ["true","false"],
					"ADK_ZAppSlots.APPLICATION.NAME": true
				},
				"setFromNlu" : {
					"nlu_slot_details.App-name.literal" : ["ADK_ZAppSlots.APPLICATION.NAME"],
					"nlu_slot_details.App-name.canonical[0]" : ["ADK_ZAppSlots.APPLICATION._CANON_NAME"]
				},
				"modifyValue" : {
					"nlu_classification.Domain" : "Appl",
					"nlu_classification.Intention" : "Launch",
					"nlu_classification.Mode" : "Name"
				}
			},

			{
				"_comments" : { 
					"parse_type" : "voicemail:play",
					"included_as_of" : "6.0.200",
					"notes" : "This is a special case - should merge with open:app, if possible"
				},
				"condition" : {
					"ADK_ZAppSlots.DOMAIN": "appl",
					"ADK_ZAppSlots.INTENTION": "launch",
					"ADK_ZAppSlots.APPLICATION.NAME": "voicemail"
				},
				"setFromNlu" : {
					"nlu_slot_details.App-name.literal" : ["ADK_ZAppSlots.APPLICATION.NAME"],
					"nlu_slot_details.App-name.canonical[0]" : ["ADK_ZAppSlots.APPLICATION._CANON_NAME"]
				},
				"modifyValue" : {
					"nlu_classification.Domain" : "Appl",
					"nlu_classification.Intention" : "Launch"
				}
			}
		]
	}
}
